<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Painel Quarto ‚Äî 21/04/2025 21:39</title>
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
  <style>
    body { margin:0; background:#000; color:#0F0; font-family:'VT323',monospace; }
    .outer { border:2px solid #0A0; max-width:800px; margin:10px auto; padding:10px; display:none; }
    .section { border:1px solid #0A0; padding:10px; margin-top:10px; }
    .section h3 { margin:0; border-bottom:1px dashed #0A0; text-transform:uppercase; }
    button { margin:4px; padding:8px 12px; background:#000; color:#0F0; border:1px solid #0A0; cursor:pointer; }
  </style>
</head>
<body>
  <audio id="bootSound" src="assets/sons/boot.mp3"></audio>
  <!-- Boot MS‚ÄëDOS -->
  <div id="bootScreen" style="white-space:pre; color:#0F0; font-family:'VT323',monospace; background:#000; padding:20px; font-size:1.1em;"></div>
  <div class="outer">
    <div class="section"><h3>Luzes</h3><button onclick="toggleEntity(\'switch.sonoff_1001a6434\')">Quarto</button><button onclick="toggleEntity(\'switch.sonoff_a4400262ed\')">Abajur 1</button><button onclick="toggleEntity(\'switch.sonoff_a4400235ee\')">Abajur 2</button><button onclick="toggleEntity(\'switch.sonoff_a440022d3e\')">Cama</button><button onclick="toggleEntity(\'switch.sonoff_1000e6bdb1\')">Banheiro Suite</button></div>
    <div class="section"><h3>Dispositivos</h3><button onclick="toggleEntity(\'climate.ar_condicionado_quarto\')">Ar-condicionado</button><button onclick="toggleEntity(\'switch.projetor_quarto\')">Projetor</button><button onclick="toggleEntity(\'switch.ipad_quarto\')">iPad</button></div>
    <div class="section"><h3>Cenas</h3><button onclick="toggleEntity(\'scene.luzes_vermelhas\')">Vermelhas</button><button onclick="toggleEntity(\'scene.luzes_grafite\')">Grafite</button><button onclick="toggleEntity(\'scene.luzes_aconchegante\')">Aconchegante</button><button onclick="toggleEntity(\'scene.luzes_banheiro\')">Banheiro</button></div>
    <div class="section"><h3>Agenda</h3>
      <p>Data: 21/04/2025</p>
      <p>Hora: 21:39</p>
      <p>Hoje √© feriado: Tiradentes' Day</p>
      <p>Compromissos: Nenhum</p>
    </div>
    <div class="section"><h3>Tempo</h3>
      <p>‚õÖÔ∏è  Parcialmente nublado +20¬∞C</p>
      <p>Previs√£o: Min: üåó Max: 21 Chuva: 0.0mm</p>
    </div>
    <div class="section"><h3>Sistema</h3>
      <p>Clima quarto indispon√≠vel</p>
      <p>Velocidade: 2066 ‚Üì / 1804 ‚Üë</p>
      <p>Limpeza: ‚Äî</p>
      <p>Bandeira: Verde</p>
    </div>
  </div>
  <script>
    const HA_URL   = "http://192.168.1.33:8123";
    const HA_TOKEN = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJhZTJiMTQyODk1OWY0MzIxOTQ0ZDllYTU2YjkyZDIxYiIsImlhdCI6MTc0NTI0MjIyMSwiZXhwIjoyMDYwNjAyMjIxfQ.6CzMrvzVGlq7daV3XeXXfkkeP-v_laoW8tf0haa-Ebo";
    const bootLines = [
      "Phoenix Technologies Ltd.  Version 4.06",
      "Copyright (C) 1985-2001, Phoenix Technologies Ltd.",
      "",
      "Loading DOS...",
      "Starting Smart Panel Interface..."
    ];
    let i=0;
    function showNextLine() {
      const el = document.getElementById("bootScreen");
      if(i<bootLines.length) {
        el.innerText += bootLines[i++] + "\n";
        setTimeout(showNextLine, 300);
      } else {
        setTimeout(()=>{ el.style.display="none"; document.querySelector(".outer").style.display="block"; }, 800);
      }
    }
    function toggleEntity(entity_id) {
      new Audio("assets/sons/on.mp3").play();
      fetch(`${HA_URL}/api/services/homeassistant/toggle`, {
        method:"POST",
        headers:{
          "Authorization":`Bearer ${HA_TOKEN}`,
          "Content-Type":"application/json"
        },
        body: JSON.stringify({ entity_id })
      });
    }
    document.addEventListener("DOMContentLoaded",()=>{ 
      document.getElementById("bootSound").play();
      showNextLine();
    });
  </script>
</body>
</html>
